# ğŸŒ Aè‚¡å¸‚åœºæƒ…ç»ªåˆ†æWebé¢æ¿ä½¿ç”¨æŒ‡å—

## ğŸ“Š åŠŸèƒ½ä»‹ç»

è¿™æ˜¯ä¸€ä¸ªå®æ—¶åœ¨çº¿çš„Aè‚¡å¸‚åœºæƒ…ç»ªåˆ†æé¢æ¿ï¼Œæä¾›ï¼š

- ğŸ¯ **ç»¼åˆæƒ…ç»ªå¾—åˆ†**: æ™ºèƒ½åˆ¤æ–­å¸‚åœºå¤šç©ºæƒ…ç»ªï¼ˆ-1åˆ°+1ï¼‰
- ğŸ“ˆ **ä¸»è¦æŒ‡æ•°å®æ—¶è¡¨ç°**: ä¸Šè¯æŒ‡æ•°ã€æ·±è¯æˆæŒ‡ã€åˆ›ä¸šæ¿æŒ‡ç­‰
- ğŸ” **å¸‚åœºå¹¿åº¦åˆ†æ**: æ¶¨è·Œç»Ÿè®¡ã€æ¶¨è·Œåœæ¿æ•°é‡
- ğŸ’¡ **æ™ºèƒ½æ“ä½œå»ºè®®**: æ ¹æ®å¸‚åœºæƒ…ç»ªæä¾›ä»“ä½å’Œç­–ç•¥å»ºè®®
- ğŸ“Š **å†å²è¶‹åŠ¿å›¾è¡¨**: æƒ…ç»ªå¾—åˆ†çš„æ—¶é—´åºåˆ—å¯è§†åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€: ç›´æ¥å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨å¯åŠ¨è„šæœ¬
./start_web.sh
```

### æ–¹å¼äºŒ: æ‰‹åŠ¨å¯åŠ¨

```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# 2. å¯åŠ¨WebæœåŠ¡å™¨
python web_server.py
```

### æ–¹å¼ä¸‰: åå°è¿è¡Œ

```bash
# åå°è¿è¡ŒæœåŠ¡å™¨
nohup python web_server.py > web.log 2>&1 &

# æŸ¥çœ‹æ—¥å¿—
tail -f web.log

# åœæ­¢æœåŠ¡å™¨
ps aux | grep web_server.py
kill <è¿›ç¨‹ID>
```

## ğŸŒ è®¿é—®é¢æ¿

å¯åŠ¨æœåŠ¡å™¨åï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š

```
http://localhost:5000
```

å¦‚æœä»å…¶ä»–è®¾å¤‡è®¿é—®ï¼š

```
http://<æœ¬æœºIP>:5000
```

ä¾‹å¦‚ï¼š
```
http://192.168.1.100:5000
```

## ğŸ“¡ APIæ¥å£

### 1. è·å–æƒ…ç»ªæ•°æ®

```bash
curl http://localhost:5000/api/sentiment
```

å“åº”ç¤ºä¾‹ï¼š
```json
{
  "success": true,
  "data": {
    "score": 0.356,
    "sentiment": "çœ‹å¤š ğŸ“ˆ",
    "indices": [
      {
        "name": "ä¸Šè¯æŒ‡æ•°",
        "price": 3215.67,
        "change": 1.23
      }
    ],
    "breadth": {
      "total": 4856,
      "upCount": 2856,
      "downCount": 1856,
      "flatCount": 144,
      "limitUp": 45,
      "limitDown": 8
    },
    "timestamp": "2026-01-21T14:30:00"
  },
  "update_time": "2026-01-21T14:30:00"
}
```

### 2. å¼ºåˆ¶åˆ·æ–°æ•°æ®

```bash
curl http://localhost:5000/api/refresh
```

### 3. å¥åº·æ£€æŸ¥

```bash
curl http://localhost:5000/api/health
```

## ğŸ¨ ç•Œé¢åŠŸèƒ½

### ä¸»è¦åŒºåŸŸ

1. **ç»¼åˆæƒ…ç»ªå¾—åˆ†**
   - å¤§åœ†åœˆæ˜¾ç¤ºå½“å‰æƒ…ç»ªå¾—åˆ†
   - ç»¿è‰²: çœ‹å¤š
   - çº¢è‰²: çœ‹ç©º
   - ç´«è‰²: ä¸­æ€§

2. **å¸‚åœºå¹¿åº¦**
   - ä¸Šæ¶¨/ä¸‹è·Œè‚¡ç¥¨æ•°é‡
   - æ¶¨åœæ¿/è·Œåœæ¿ç»Ÿè®¡

3. **ä¸»è¦æŒ‡æ•°è¡¨ç°**
   - 5å¤§ä¸»è¦æŒ‡æ•°å®æ—¶æ•°æ®
   - æ¶¨è·Œå¹…å’Œä»·æ ¼

4. **æ“ä½œå»ºè®®**
   - ä»“ä½å»ºè®®
   - æ“ä½œç­–ç•¥
   - é£é™©æç¤º

5. **æƒ…ç»ªå†å²è¶‹åŠ¿**
   - æ—¶é—´åºåˆ—å›¾è¡¨
   - è‡ªåŠ¨æ›´æ–°

### è‡ªåŠ¨åˆ·æ–°

- é¢æ¿æ¯60ç§’è‡ªåŠ¨åˆ·æ–°æ•°æ®
- ç‚¹å‡»"ğŸ”„ åˆ·æ–°æ•°æ®"æŒ‰é’®æ‰‹åŠ¨åˆ·æ–°

## ğŸ“± ç§»åŠ¨ç«¯è®¿é—®

å®Œå…¨æ”¯æŒæ‰‹æœºå’Œå¹³æ¿è®¿é—®ï¼š

1. ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€ç½‘ç»œ
2. åœ¨æ‰‹æœºæµè§ˆå™¨è¾“å…¥: `http://<ç”µè„‘IP>:5000`
3. äº«å—ç§»åŠ¨ç«¯ä¼˜åŒ–ç•Œé¢

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹ç«¯å£

ç¼–è¾‘ [web_server.py](web_server.py) çš„æœ€åä¸€è¡Œï¼š

```python
# é»˜è®¤ç«¯å£5000
app.run(host='0.0.0.0', port=5000, debug=True)

# ä¿®æ”¹ä¸ºå…¶ä»–ç«¯å£ï¼Œå¦‚8080
app.run(host='0.0.0.0', port=8080, debug=True)
```

### ä¿®æ”¹åˆ·æ–°é¢‘ç‡

ç¼–è¾‘ [sentiment_dashboard.html](templates/sentiment_dashboard.html) ä¸­çš„è‡ªåŠ¨åˆ·æ–°é—´éš”ï¼š

```javascript
// é»˜è®¤60ç§’
setInterval(refreshData, 60000);

// ä¿®æ”¹ä¸º30ç§’
setInterval(refreshData, 30000);
```

### åˆ‡æ¢æ•°æ®æº

ç¼–è¾‘ [web_server.py](web_server.py) ä¸­çš„åˆå§‹åŒ–ï¼š

```python
# ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼ˆå½“å‰ï¼‰
analyzer = AStockMarketSentimentEnhanced(use_mock_data=True)

# ä½¿ç”¨çœŸå®æ•°æ®
analyzer = AStockMarketSentimentEnhanced(use_mock_data=False)
```

## ğŸ“Š æƒ…ç»ªå¾—åˆ†è¯´æ˜

| å¾—åˆ†èŒƒå›´ | æƒ…ç»ªçŠ¶æ€ | å»ºè®®æ“ä½œ |
|----------|----------|----------|
| â‰¥ 0.6 | å¼ºçƒˆçœ‹å¤š ğŸš€ | ç§¯æåšå¤šï¼Œä»“ä½80-100% |
| 0.3 ~ 0.6 | çœ‹å¤š ğŸ“ˆ | åå¤šæ“ä½œï¼Œä»“ä½60-70% |
| 0.1 ~ 0.3 | åå¤š â†—ï¸ | è½»ä»“è¯•æ¢ï¼Œä»“ä½30-50% |
| -0.1 ~ 0.1 | ä¸­æ€§ â¡ï¸ | å‡ä»“è§‚æœ›ï¼Œä»“ä½<30% |
| -0.3 ~ -0.1 | åç©º â†˜ï¸ | ä¸¥æ ¼æ§åˆ¶ï¼Œä»“ä½<20% |
| -0.6 ~ -0.3 | çœ‹ç©º ğŸ“‰ | ç©ºä»“è§‚æœ›ï¼Œä»“ä½<10% |
| â‰¤ -0.6 | å¼ºçƒˆçœ‹ç©º ğŸ’¥ | å®Œå…¨ç©ºä»“ï¼Œä¿æŠ¤èµ„é‡‘ |

## ğŸ› ï¸ æ•…éšœæ’é™¤

### é—®é¢˜1: æ— æ³•è®¿é—®é¢æ¿

**æ£€æŸ¥æ­¥éª¤:**
1. ç¡®è®¤æœåŠ¡å™¨å·²å¯åŠ¨
   ```bash
   ps aux | grep web_server.py
   ```

2. æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
   ```bash
   lsof -i :5000
   ```

3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### é—®é¢˜2: æ•°æ®ä¸æ›´æ–°

**è§£å†³æ–¹æ³•:**
1. ç‚¹å‡»"ğŸ”„ åˆ·æ–°æ•°æ®"æŒ‰é’®
2. æˆ–è®¿é—®åˆ·æ–°API: `http://localhost:5000/api/refresh`

### é—®é¢˜3: æ˜¾ç¤º"æ­£åœ¨åŠ è½½"

**å¯èƒ½åŸå› :**
- åç«¯æœåŠ¡æœªå¯åŠ¨
- APIè¯·æ±‚å¤±è´¥

**è§£å†³æ–¹æ³•:**
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
2. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### 1. å¼€ç›˜å‰æ£€æŸ¥

æ¯å¤©å¼€ç›˜å‰è¿è¡Œä¸€æ¬¡ï¼Œäº†è§£å½“æ—¥å¸‚åœºæƒ…ç»ªï¼š

```bash
./start_web.sh
# æµè§ˆå™¨è®¿é—® http://localhost:5000
```

### 2. ç›˜ä¸­å®æ—¶ç›‘æ§

å°†é¢æ¿ä¿æŒæ‰“å¼€ï¼Œæ¯60ç§’è‡ªåŠ¨æ›´æ–°ï¼š

- è§‚å¯Ÿæƒ…ç»ªå˜åŒ–è¶‹åŠ¿
- åŠæ—¶è°ƒæ•´ä»“ä½
- æ•æ‰å¸‚åœºè½¬æŠ˜ç‚¹

### 3. æ”¶ç›˜æ€»ç»“

æŸ¥çœ‹å…¨å¤©æƒ…ç»ªå˜åŒ–ï¼š

- åˆ†ææƒ…ç»ªå†å²å›¾è¡¨
- æ€»ç»“å½“æ—¥å¸‚åœºç‰¹å¾
- ä¸ºæ¬¡æ—¥æ“ä½œåšå‡†å¤‡

### 4. å¤šè®¾å¤‡åŒæ­¥

åœ¨ç”µè„‘ã€æ‰‹æœºã€å¹³æ¿åŒæ—¶æ‰“å¼€ï¼š

- å®¶é‡Œç”µè„‘: å§‹ç»ˆè¿è¡Œ
- æ‰‹æœº: éšæ—¶æŸ¥çœ‹
- åŠå…¬å®¤ç”µè„‘: å†³ç­–å‚è€ƒ

## ğŸ“ˆ è¿›é˜¶ä½¿ç”¨

### é›†æˆåˆ°é‡åŒ–ç³»ç»Ÿ

å¯ä»¥å°†æƒ…ç»ªæ•°æ®é›†æˆåˆ°äº¤æ˜“ç­–ç•¥ï¼š

```python
import requests

# è·å–å½“å‰æƒ…ç»ª
response = requests.get('http://localhost:5000/api/sentiment')
data = response.json()

# æ ¹æ®æƒ…ç»ªè°ƒæ•´ä»“ä½
if data['data']['score'] > 0.3:
    position_size = 0.7  # 70%ä»“ä½
elif data['data']['score'] > 0.1:
    position_size = 0.5  # 50%ä»“ä½
else:
    position_size = 0.2  # 20%ä»“ä½
```

### æ•°æ®å¯¼å‡º

å®šæœŸå¯¼å‡ºå†å²æ•°æ®ç”¨äºåˆ†æï¼š

```bash
# ä¿å­˜å½“å‰æ•°æ®
curl http://localhost:5000/api/sentiment > sentiment_$(date +%Y%m%d_%H%M%S).json
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- ç›¸å…³æ–‡ä»¶:
  - [web_server.py](web_server.py) - FlaskæœåŠ¡å™¨
  - [sentiment_dashboard.html](templates/sentiment_dashboard.html) - å‰ç«¯é¢æ¿
  - [market_sentiment_enhanced.py](market_sentiment_enhanced.py) - åˆ†æå¼•æ“

## ğŸ‰ å¼€å§‹ä½¿ç”¨

```bash
# ä¸€é”®å¯åŠ¨
./start_web.sh

# æµè§ˆå™¨è®¿é—®
open http://localhost:5000
```

äº«å—æ‚¨çš„å®æ—¶å¸‚åœºæƒ…ç»ªåˆ†æé¢æ¿ï¼ğŸ“Šâœ¨
